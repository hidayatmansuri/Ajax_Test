{"changed":true,"filter":false,"title":"main.js","tooltip":"/main.js","value":"","undoManager":{"mark":7,"position":8,"stack":[[{"start":{"row":0,"column":0},"end":{"row":10,"column":11},"action":"insert","lines":["var xhr = new XMLHttpRequest();","","xhr.onreadystatechange = function() {","    if (this.readyState == 4 && this.status == 200) {","        document.getElementById(\"data\").innerHTML = this.responseText;","    }","};","","xhr.open(\"GET\", \"https://swapi.co/api/\");","","xhr.send();"],"id":1}],[{"start":{"row":0,"column":0},"end":{"row":10,"column":11},"action":"remove","lines":["var xhr = new XMLHttpRequest();","","xhr.onreadystatechange = function() {","    if (this.readyState == 4 && this.status == 200) {","        document.getElementById(\"data\").innerHTML = this.responseText;","    }","};","","xhr.open(\"GET\", \"https://swapi.co/api/\");","","xhr.send();"],"id":2},{"start":{"row":0,"column":0},"end":{"row":17,"column":28},"action":"insert","lines":["function getData(cb) {","    var xhr = new XMLHttpRequest();","","    xhr.open(\"GET\", \"https://swapi.co/api/\");","    xhr.send();","","    xhr.onreadystatechange = function() {","        if (this.readyState == 4 && this.status == 200) {","            cb(JSON.parse(this.responseText));","        }","    };","}","","function printDataToConsole(data) {","    console.log(data);","}","","getData(printDataToConsole);"]}],[{"start":{"row":0,"column":0},"end":{"row":17,"column":28},"action":"remove","lines":["function getData(cb) {","    var xhr = new XMLHttpRequest();","","    xhr.open(\"GET\", \"https://swapi.co/api/\");","    xhr.send();","","    xhr.onreadystatechange = function() {","        if (this.readyState == 4 && this.status == 200) {","            cb(JSON.parse(this.responseText));","        }","    };","}","","function printDataToConsole(data) {","    console.log(data);","}","","getData(printDataToConsole);"],"id":3},{"start":{"row":0,"column":0},"end":{"row":61,"column":19},"action":"insert","lines":["function getData(url, cb) {","    var xhr = new XMLHttpRequest();","","    xhr.onreadystatechange = function() {","        if (this.readyState == 4 && this.status == 200) {","            cb(JSON.parse(this.responseText));","        }","    };","","    xhr.open(\"GET\", url);","    xhr.send();","}","","function getTableHeaders(obj) {","    var tableHeaders = [];","","    Object.keys(obj).forEach(function(key) {","        tableHeaders.push(`<td>${key}</td>`);","    });","","    return `<tr>${tableHeaders}</tr>`;","}","","function generatePaginationButtons(next, prev) {","    if (next && prev) {","        return `<button onclick=\"writeToDocument('${prev}')\">Previous</button>","                <button onclick=\"writeToDocument('${next}')\">Next</button>`;","    } else if (next && !prev) {","        return `<button onclick=\"writeToDocument('${next}')\">Next</button>`;","    } else if (!next && prev) {","        return `<button onclick=\"writeToDocument('${prev}')\">Previous</button>`;","    }","}","","function writeToDocument(url) {","    var tableRows = [];","    var el = document.getElementById(\"data\");","","    getData(url, function(data) {","        var pagination = \"\";","","        if (data.next || data.previous) {","            pagination = generatePaginationButtons(data.next, data.previous);","        }","        data = data.results;","        var tableHeaders = getTableHeaders(data[0]);","","        data.forEach(function(item) {","            var dataRow = [];","","            Object.keys(item).forEach(function(key) {","                var rowData = item[key].toString();","                var truncatedData = rowData.substring(0, 15);","                dataRow.push(`<td>${truncatedData}</td>`);","            });","            tableRows.push(`<tr>${dataRow}</tr>`);","        });","","        el.innerHTML = `<table>${tableHeaders}${tableRows}</table>${pagination}`.replace(/,/g, \"\");","    });","}","© 2019 GitHub, Inc."]}],[{"start":{"row":27,"column":5},"end":{"row":28,"column":3},"action":"insert","lines":["","   "],"id":4},{"start":{"row":30,"column":5},"end":{"row":31,"column":3},"action":"insert","lines":["","   "]},{"start":{"row":62,"column":1},"end":{"row":63,"column":0},"action":"remove","lines":["",""]},{"start":{"row":62,"column":2},"end":{"row":62,"column":3},"action":"remove","lines":[" "]},{"start":{"row":62,"column":2},"end":{"row":63,"column":0},"action":"insert","lines":["",""]},{"start":{"row":63,"column":17},"end":{"row":64,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":62,"column":1},"end":{"row":62,"column":2},"action":"remove","lines":["©"],"id":5}],[{"start":{"row":63,"column":0},"end":{"row":63,"column":17},"action":"remove","lines":["2019 GitHub, Inc."],"id":6}],[{"start":{"row":62,"column":1},"end":{"row":63,"column":0},"action":"remove","lines":["",""],"id":7}],[{"start":{"row":62,"column":1},"end":{"row":63,"column":0},"action":"remove","lines":["",""],"id":8},{"start":{"row":62,"column":1},"end":{"row":62,"column":9},"action":"insert","lines":["git init"]}],[{"start":{"row":62,"column":1},"end":{"row":62,"column":9},"action":"remove","lines":["git init"],"id":9}]]},"ace":{"folds":[],"scrolltop":448,"scrollleft":0,"selection":{"start":{"row":62,"column":1},"end":{"row":62,"column":1},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":31,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1573068256990}